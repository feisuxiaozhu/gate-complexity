import matplotlib.pyplot as plt
import numpy as np
import itertools
from two_d_subroutines import *

# h = 0, J=1, pure SGD, 10 steps, random sampling from all possible configs.
result = [-9.999579920798487, -7.863723501697461, -10.52876688562239, -8.346837291100888, -3.8716090890724297, -10.021509235741252, -11.777421485973797, -4.073731819740497, -11.84223147231511, -3.9892968556821273, -6.629247580201767, -11.799946090829707, -11.808288010467212, -4.8217823350322675, -10.23966637825388, -6.481731887781512, -7.398225859390074, -8.939579347488523, -11.837439012954095, -6.6920964681958255, -5.484200286018993, -6.902069690804143, -11.602768712013791, -11.893314286584546, -11.843860870245193, -3.993108140886781, -4.389455901761373, -5.640504945178151, -11.188575127210628, -6.884458945286494, -11.70905969231161, -11.320222669987587, -6.397537305631742, -9.936028731725488, -9.759272940554089, -6.849971228682234, -2.3089005675549443, -11.196988231304108, -11.471629071274407, -10.997259593549444]

twobythree_1000_SGD=[-6.986680562124307, -6.977677740906774, -6.989111948015806, -6.98139509797057, -6.979461221394182, -6.943208698301594, -6.966096078107771, -6.3748653838982445, -6.978109124735429, -6.976587604983267, -6.953757070236922, -6.9425725064428105, -6.936682763151375, -6.842717280788401, -6.445676590655012, -6.973683646967564, -6.980558055368851, -6.959500798368586, -6.973524347143888, -6.941142748191012, -6.960563615281099, -6.435962042436525, -6.872061520846308, -6.970676718508629, -6.968094178383326, -6.846161634434633, -6.553921317406864, -6.9785009569587775, -6.76495576314375, -6.967001100829737, -6.889563655379009, -6.9761697035259855, -6.984512444951572, -6.986775281463934, -6.966422290066833, -6.600751142307619, -6.984732143691578, -6.886669469308577, -6.943879222052405, -6.979942602745361, -6.97035086187756, -6.861669198321724, -6.316708114300605, -6.9569517010883155, -6.971101662962082, -6.976866837053617, -6.877176197734889, -6.974693042277048, -6.977738428082052, -6.453528940810618, -6.920055528164572, -6.962620059587678, -6.970907732278393, -6.955996702329484, -6.978087642741717, -6.980914862120344, -6.183552966982776, -6.978025290505367, -6.887541631725822, -6.979523341415342, -6.970648297790643, -6.974552752940758, -6.980252128055992, -6.980632346633579]
threebytwo_1000_SGD = [-6.984047680220175, -6.98215002154084, -6.977767108581848, -6.977980262577562, -6.980451836348806, -6.965024649945321, -6.95667621640356, -6.912396885564544, -6.984152113072846, -6.960230806771466, -6.987975659214852, -6.951394030193409, -6.9753614768946015, -6.680803511449211, -6.712222673839705, -6.9851258487944055, -6.9838448723931315, -6.73691553885823, -6.972120848843534, -6.6501626402028124, -6.9528308935781045, -6.24602708736982, -6.775015627799804, -6.972980790027216, -6.920612525118749, -6.713499773986545, -6.436214984011151, -6.926475738635648, -6.770192673554872, -6.9373786195715015, -6.9230278751493595, -6.981818986735719, -6.982551788574048, -6.937173245782337, -6.925689172447178, -6.896768095141307, -6.964318725810794, -6.727289615736163, -6.3301695904300646, -6.955363087957759, -6.9841198273364355, -6.826378397172395, -5.989555840836323, -6.976307582841572, -6.8382390900391234, -6.925419872925254, -6.97747316443072, -6.9807298581195685, -6.980141499640265, -6.790058936504308, -6.92382817877842, -6.977523417847096, -6.961243199095857, -6.975468217875712, -6.963426315289565, -6.982702617954719, -6.952381006718346, -6.959892368541954, -6.9748525586788555, -6.983180158505325, -6.978042715701877, -6.987849481330014, -6.980505025864241, -6.9843347925952015]
gradient_result = [np.float64(0.8864834717550658), np.float64(1.0195741105375717), np.float64(0.7372312359381972), np.float64(0.898025380691595), np.float64(0.7967870374660235), np.float64(0.9504457616869285), np.float64(0.7344649671222716), np.float64(4.7211225210065555), np.float64(0.9227376058260921), np.float64(0.8325933595440068), np.float64(1.0044439354257846), np.float64(0.6578953048867029), np.float64(1.145032224236601), np.float64(0.8619137228428487), np.float64(0.8228049077746521), np.float64(0.965707106130793), np.float64(0.880196850316495), np.float64(0.7428282627556355), np.float64(1.3321582425412866), np.float64(0.705146215021517), np.float64(0.7712368722101599), np.float64(0.898760403910969), np.float64(0.9516027694952742), np.float64(0.7154610056496084), np.float64(0.9475266426767296), np.float64(5.658942238446486), np.float64(0.5729262254757422), np.float64(0.7694046594511031), np.float64(0.7463453165421604), np.float64(0.8150535772332451), np.float64(0.8414662021406799), np.float64(0.9391837182484809), np.float64(0.8717085361537951), np.float64(1.1108882700581053), np.float64(0.7266455098504799), np.float64(0.8243750882534421), np.float64(0.697829731597326), np.float64(0.8945161362537475), np.float64(0.45753542476646913), np.float64(0.8552312946506121), np.float64(0.48680259717616586), np.float64(1.1559688497752252), np.float64(0.8957558160610701), np.float64(0.8485696218262008), np.float64(0.7824796789309894), np.float64(0.8552791768293414), np.float64(0.8476435580671647), np.float64(0.9816463186895181), np.float64(0.8927578010002892), np.float64(0.7406699762056699), np.float64(3.536761083797108), np.float64(0.7160003647280961), np.float64(1.4920125862377802), np.float64(0.7705271841011103), np.float64(0.7936786601555373), np.float64(0.7596013439054747), np.float64(1.3252823108286709), np.float64(0.9784574569108904), np.float64(0.8124632146787952), np.float64(0.7916324764203736), np.float64(0.4885427954767913), np.float64(0.8116652035142067), np.float64(0.6135721099623566), np.float64(0.8749139949450673)]
strange_gradient_SGD_3by3 = [-0.03025122795845673, 0.015132759121558542, 0.0, 0.0023373428601600015, 0.10382473116379155, 0.0, 0.10570771068808443, 0.08845742909016277, 0.0, -0.1570222855906884, 0.023508335986929547, 0.0, -6.204008043031066, 3.6255788692280198, 0.0, -0.020275850020484397, 0.13389051354327042, 0.0, 0.0726954478866083, -0.07432841776287716, 0.0, 0.2248313302286073, -0.25000040843870835, 0.0, -0.01250463540192196, -0.006960004138804157, 0.0, -0.08158438136863543, 0.017239374647464188, -0.03026014507306424, 0.01686698935319282, 0.08215310190781049, 0.015127165343561727, 0.0026787497590369004, 0.10360082594214191, 0.0, -0.09697840269113768, -0.016162859234714062, -0.030260145073064085, -0.016566466516996982, 0.09677282072204042, 0.01512716534356162, -0.15666012743246824, 0.023390235331950216, 0.0, -0.13590251611885187, -0.0014492203148368786, 0.0032302278021310348, -0.0007616858464070382, 0.13515076332102413, 0.10470380476020931, 0.10571282963279774, 0.08847626040405299, 0.0, 0.0012081776595983837, 2.6779443085633222e-05, 0.00203662026227437, -0.021646810376244774, -0.03783148195144622, 0.1090997701919436, -6.204093560838968, 3.6245039628575477, 0.0, 0.015563942073227918, 0.010664912223134548, 0.10571282963279771, 0.00946505514914665, -0.01777843715309927, 0.08847626040405301, -0.02044319690806308, 0.1335356328883725, 0.0, -0.02304721162628247, 0.0026660941662944083, -0.14639074869982535, -0.05561676009713767, 0.04815848499702666, 0.01911671072348357, -6.203321971846001, 3.62381189699822, 0.0, -0.10489227018020751, 0.04389727951472461, -0.1574621896887082, 0.04282017720743157, 0.10561667558252345, 0.02434164327606306, 0.07268127567507872, -0.07433644787815313, 0.0, 0.11301492476785899, -0.06352547896272896, -6.205402611288425, -0.022994583289124498, -0.16244713548319414, 3.6265624831597507, -0.028466833586574293, 0.1691082601279661, 0.0, 0.13570308751142768, 0.20921384776167706, -6.1976973538826075, 0.08413342321831567, -0.08978822601250518, 3.6254912941134108, 0.17899203486827542, -0.24390382181318537, 0.0, 0.042071115870025294, 0.05815290628454916, -0.02026252745964613, 0.0579178518277798, -0.042170824401290954, 0.13388693592517975, -0.012500930634082657, -0.0069536694995163875, 0.0, -0.032552758587559585, -0.036088544346485965, 0.07268127567507872, -0.03880000185455275, 0.03310944151049739, -0.07433644787815318, 0.2243791786763164, -0.25010626043888234, 0.0, -0.06476603270553248, -0.15760718451153896, 0.22503004206670202, -0.157656556338607, 0.06461143266347404, -0.2500458795307413, -0.012500930634082657, -0.006953669499516387, 0.0]

# print(np.sort(strange_gradient_SGD_3by3))
# print(np.linalg.norm(strange_gradient_SGD_3by3))
# j=0
# for gradient in strange_gradient_SGD_3by3:
#     if gradient >3:
#         print (j)
#     j+=1


# test = list(itertools.product([0, 1], repeat=6))
# print(test[42])

# plt.figure(figsize=(8, 5)) 

# plt.scatter(threebytwo_1000_SGD,[0]*len(threebytwo_1000_SGD),s=10)

# plt.show()



M=3
N=3
two_qubit_set_tilde, gate_description = all_two_qubit_set_NN(M,N)
print(gate_description[12])
print(gate_description[60])
print(gate_description[78])
print(gate_description[92])
print(gate_description[101])


print(gate_description[13])
print(gate_description[61])
print(gate_description[79])
print(gate_description[95])
print(gate_description[104])


















